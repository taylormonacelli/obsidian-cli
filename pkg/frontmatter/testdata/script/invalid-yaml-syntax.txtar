# Test file with invalid YAML syntax in frontmatter
cp invalid-yaml.md test-vault/invalid-yaml.md
cp invalid-yaml.md test-vault/invalid-yaml.md.backup

! exec obsidian-cli frontmatter print .title invalid-yaml.md
stderr yaml
cmp test-vault/invalid-yaml.md test-vault/invalid-yaml.md.backup

# Test in-place edit should fail
cp invalid-yaml.md test-vault/temp.md
! exec obsidian-cli frontmatter edit '.title = "New Title"' temp.md
stderr 'yaml'

-- invalid-yaml.md --
---
title: Test
  invalid indentation:
author: Jane
---

# Content
