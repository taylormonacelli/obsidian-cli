# Test handling of invalid frontmatter (scalar value instead of object)
cp invalid-scalar.md test-vault/invalid-scalar.md
cp invalid-scalar.md test-vault/invalid-scalar.md.backup

! exec obsidian-cli frontmatter print .title invalid-scalar.md
stderr 'invalid frontmatter'
cmp test-vault/invalid-scalar.md test-vault/invalid-scalar.md.backup

# Test in-place edit with invalid frontmatter should fail gracefully
cp invalid-scalar.md test-vault/temp.md
! exec obsidian-cli frontmatter edit '.title = "New Title"' temp.md
stderr 'invalid frontmatter'

-- invalid-scalar.md --
---
test
---

# Content here
